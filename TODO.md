> 最后更新时间：2022/10/18

# TODO：

这里是后续代码的更新计划，其中加粗部分开发优先级更高，斜体部分开发优先级更低：

## Creep相关：
- [ ] **creep的操作优化，主要从creep原型拓展入手**
- [x] **creep随机对话功能（废案，为了节约CPU已删除）**
- [ ] **战争creep的代码构建与完善，优先完善一体机**
- [ ] **powercreep的构建，power可以市场买来**
- [ ] **creep数量自动配置与生产条件完善**
- [ ] 将filler和collector合并，减少creep类型（尚不确定）
- [ ] 远程creep组的代码构建与完善，尤其是预定及躲敌对creep的部分，或许用到observer
- [ ] *动态身体构成*
- [ ] *creep预定含store建筑里的资源的功能，防止creep扎堆去送资源或者资源不够的情况下还有很多creep去拿资源的情况，可能扩大已有任务机制，也可能添加到memory里*

## Structure相关：
- [x] **中央物流的逻辑改进，包括Centercarrier、Storage、Factory、Terminal、Link的半自动协作**
- [x] **烧power、工厂运行及中央建筑的原型拓展（先完成个开始吧）**
- [ ] **boost系统的使用，可以暂时只用市场买卖化合物**
- [ ] **完善各建筑种类的原型拓展部分**
- [x] **自动更新建筑缓存**
- [x] **寻找Container的重构**
- [ ] *lab系统的构建*

## Room相关：
- [ ] **添加给房间签名功能，包括无视野的房间（可能添加新角色）**
- [x] 墙体建设设计
- [ ] 新房间布局设计、新房间援建工作
- [x] 取消了生产队列的设定，因为每个tick都要更新生产队列，不如更新的时候推送生产任务
- [ ] *自动布局*

## 其他计划：
- [ ] **市场订单的查询系统、比较系统、创建系统，同时优化该部分手操**
- [ ] **核弹落点紧急刷墙**
- [ ] **使用遗产**
- [x] **优化开局，采取开局就建Container的方案，实践表明有效，同时节约了对后面发展的cpu的影响**
- [ ] 控制台使用 HTML 和 CSS 来优化显示
- [ ] *游戏的长期统计，使用先前数据和当前数据来预测数据（如计算平均cpu消耗、预测cpu消耗、预测rcl、gcl进度等）*

## 代码重构：
- [x] **将大部分注释改为TS风格注释**
- [x] **按照功能而不是使用对象解耦一些代码块（如centerCarryTask\autoSF模块）方便分发及后期添加新功能和重构**
- [x] **以模板化形式重构creep代码，方便添加新代码、新逻辑、同时极大方便阅读和找bug，虽然这会增加部分代码冗余，不过是值得的**
- [x] **更新creep整体工作逻辑，使用以target为主的工作模式**
- [ ] 解耦写死在代码中的一些参数设置（长期计划）
- [ ] *中央搬运任务拓展到整体任务制（很可能不会采取）*
- [ ] *为代码分区，每个区使用Try-Catch来防止、调试代码bug（先暂时放到main里统一捕获）*
- [ ] *将代码改为TS代码*

## 热更新：
- [x] 中央防御rampart和外围防御rampart的区分
- [x] 更改builder出生逻辑，当能量高于一定量再出生，且当能量高于一定再工作，防止后期无限刷Wall、Rampart
- [x] 将autoSF模块单独提取出来，提高可移植性和可拓展性
- [x] 暂时删除creep状态指示，以减少代码复杂度，以后可能加回来
- [x] *添加stoptalk的代码（已经无必要了）*
- [x] 修复“在内存中更新当前 CPU、bucket 使用情况”的bug（经确认不是bug）
- [ ] 为collector添加捡垃圾、从墓碑取资源的代码（可以判断当前是否自卫战争时期来节约cpu）
- [ ] 完成.temp中的未完成代码（未公开）

## bug修复:
- [x] **扩张房间时Memory不能主动初始化造成bug，待修**
- [ ] 可以向我反馈存在的bug
